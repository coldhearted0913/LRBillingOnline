🚂 GETTING YOUR RAILWAY DATABASE URL
=====================================

QUICKEST WAY (Web Dashboard):
=============================

Step 1: Open Railway
  → https://railway.app
  → Log in

Step 2: Find Your Project
  → Click "LRBillingOnline" project
  → Or find it in project list

Step 3: Open PostgreSQL Service
  → Look at left sidebar
  → You'll see services listed (Web, PostgreSQL, etc.)
  → Click "PostgreSQL"

Step 4: Get Connection Details
  → Click "Connect" tab (at top)
  → Look for "DATABASE_URL" section
  → It shows the full connection string
  → Click copy button or select all

Step 5: Paste in Your Code
  → Go to: E:\LRBillingOnline\.env.local
  → Replace: DATABASE_URL="file:./prisma/dev.db"
  → With:    DATABASE_URL="postgresql://..." (paste here)

WHAT THE URL LOOKS LIKE:
=======================

Format:
  postgresql://user:password@hostname:5432/database

Real example:
  postgresql://admin:K8x9nJ2mL4p@db.railway.internal:5432/railway

Parts:
  - admin = username
  - K8x9nJ2mL4p = password
  - db.railway.internal = host
  - 5432 = port
  - railway = database name

FINDING IT ON RAILWAY DASHBOARD:
===============================

When you click PostgreSQL → Connect tab, you see:

┌─────────────────────────────────────┐
│ DATABASE_URL                        │
│ ┌───────────────────────────────┐   │
│ │ postgresql://...              │   │ ← COPY THIS
│ └───────────────────────────────┘   │
└─────────────────────────────────────┘

Just copy the entire URL that appears there.

VERIFY IT WORKS:
================

After updating .env.local, run:

  npx prisma migrate status

If it shows:
  ✓ Migrations are up to date

Then you're connected! If it shows errors, double-check the URL.

Check your data:
  npx prisma studio

Open browser → should show your 3 LRs!

USING RAILWAY CLI (Optional):
=============================

If you have Railway CLI installed:

  railway login                   # Login
  railway link                    # Link to project
  railway variables               # Shows all env vars
  echo $DATABASE_URL             # Shows just the URL

Copy the output and use in .env.local

TROUBLESHOOTING:
================

"Can't connect to database"
  → Check URL is correct (no typos)
  → Check internet connection
  → Verify Railway project is running

"npx prisma studio won't open"
  → Make sure DATABASE_URL is in .env.local
  → Restart terminal after changing .env.local
  → Try: npx prisma generate

"Still seeing local SQLite data"
  → Check .env.local is saved
  → Stop dev server (Ctrl+C)
  → Run: npm run dev again
  → Check that DATABASE_URL changed

AFTER YOU'RE SYNCED:
====================

1. Run:
   npx prisma migrate deploy

2. Verify:
   npx prisma studio

3. Should see:
   ✓ 3 LRs in the database

4. Now you can safely:
   - Dev locally (against Railway DB)
   - Make schema changes
   - Deploy without data loss

IMPORTANT:
==========

⚠️  Your local dev will now use PRODUCTION database!
    Be careful with DELETE operations
    Test on dummy data first if unsure

✅ All developers should use same DATABASE_URL
   (from Railway, not local SQLite)
   This prevents sync issues

Questions?
  - Check Railway docs: https://docs.railway.app
  - Prisma docs: https://www.prisma.io/docs/
